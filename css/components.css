/* Component library: cards, forms, tables, tabs, accordions, pagination, ratings, etc. */

.hero{
  padding: 44px 0 12px;
}
.hero-card{
  padding: 26px;
  border-radius: 28px;
  overflow: hidden;
  position: relative;
}
.hero-card::before{
  content:"";
  position:absolute;
  inset: -2px;
  background:
    radial-gradient(500px 280px at 18% 20%, rgba(37,99,235,.22), transparent 55%),
    radial-gradient(520px 280px at 84% 28%, rgba(16,185,129,.18), transparent 58%),
    radial-gradient(420px 260px at 56% 92%, rgba(245,158,11,.18), transparent 52%);
  pointer-events:none;
}
.hero-grid{
  position: relative;
  display:grid;
  grid-template-columns: 1.25fr .75fr;
  gap: 20px;
  align-items: stretch;
}
.hero-cta{
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-top: 14px;
}
.hero-bullets{
  margin: 14px 0 0;
  padding: 0;
  list-style: none;
  display:grid;
  gap: 10px;
}
.hero-bullets li{
  display:flex; gap: 10px; align-items:flex-start;
  color: var(--muted);
}
.hero-bullets svg{ flex: 0 0 auto; margin-top: 3px; color: var(--success); }
.hero-side{
  padding: 16px;
  border-radius: 22px;
  display:grid;
  gap: 12px;
  align-content: start;
}
.stat-row{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
}
.stat{
  padding: 12px;
  border-radius: 18px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,.55);
}
html[data-theme="dark"] .stat{ background: rgba(11,16,32,.55); }
.stat strong{ display:block; font-size: 1.15rem; letter-spacing: -0.02em; }
.stat span{ color: var(--muted-2); font-size: var(--small); }

.card{
  border: 1px solid var(--border);
  border-radius: 20px;
  background: var(--surface);
  box-shadow: var(--shadow-soft);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
}
.card.pad{ padding: 16px; }
.card-head{
  padding: 14px 16px;
  border-bottom: 1px solid var(--border);
  display:flex; align-items:center; justify-content:space-between; gap: 10px;
}
.card-body{ padding: 16px; }

.category-grid{
  display:grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 14px;
}
.category{
  padding: 14px;
  border-radius: 18px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,.55);
  transition: transform .15s var(--ease), background .2s var(--ease), border-color .2s var(--ease);
  min-height: 92px;
  display:flex; gap: 10px; align-items:flex-start;
}
html[data-theme="dark"] .category{ background: rgba(11,16,32,.55); }
.category:hover{ transform: translateY(-2px); border-color: rgba(37,99,235,.25); background: rgba(37,99,235,.06); }
.category .emoji{
  width: 40px; height: 40px;
  border-radius: 14px;
  display:grid; place-items:center;
  background: rgba(37,99,235,.10);
  border: 1px solid rgba(37,99,235,.18);
}
.category strong{ display:block; }
.category small{ color: var(--muted-2); }

.carousel{
  display:grid;
  grid-auto-flow: column;
  grid-auto-columns: minmax(240px, 1fr);
  gap: 14px;
  overflow: auto hidden;
  padding-bottom: 6px;
  scroll-snap-type: x mandatory;
}
.carousel::-webkit-scrollbar{ height: 10px; }
.carousel::-webkit-scrollbar-thumb{ background: rgba(148,163,184,.30); border-radius: 999px; }
.carousel > *{ scroll-snap-align: start; }

.product-card{
  border-radius: 22px;
  overflow: hidden;
  border: 1px solid var(--border);
  background: var(--surface);
  box-shadow: var(--shadow-soft);
  transition: transform .15s var(--ease), box-shadow .2s var(--ease), border-color .2s var(--ease);
  position: relative;
}
.product-card:hover{ transform: translateY(-2px); border-color: rgba(37,99,235,.25); box-shadow: var(--shadow); }
.product-media{
  aspect-ratio: 4/3;
  background: linear-gradient(135deg, rgba(37,99,235,.12), rgba(16,185,129,.10));
  display:grid; place-items:center;
  position: relative;
}
.product-media img{
  width: 100%; height: 100%;
  object-fit: cover;
  display:block;
}
.product-badges{
  position:absolute; left: 10px; top: 10px;
  display:flex; gap: 8px; flex-wrap: wrap;
}
.badge{
  display:inline-flex; align-items:center; gap: 6px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,.70);
  font-size: 12px;
  color: var(--text);
}
html[data-theme="dark"] .badge{ background: rgba(11,16,32,.70); }
.badge.success{ border-color: rgba(16,185,129,.35); }
.badge.accent{ border-color: rgba(245,158,11,.35); }
.badge.danger{ border-color: rgba(239,68,68,.35); }

.product-actions{
  position:absolute; right: 10px; top: 10px;
  display:flex; gap: 8px;
}
.product-actions button{
  width: 38px; height: 38px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,.72);
  display:grid; place-items:center;
  cursor: pointer;
  transition: transform .15s var(--ease), background .2s var(--ease);
}
html[data-theme="dark"] .product-actions button{ background: rgba(11,16,32,.72); }
.product-actions button:hover{ transform: translateY(-1px); background: rgba(37,99,235,.10); }
.product-actions button[aria-pressed="true"]{ background: rgba(239,68,68,.12); border-color: rgba(239,68,68,.28); }
.product-actions svg{ width: 18px; height: 18px; }

/* Theme menu in header */
.theme-wrap{ position: relative; }
.theme-menu{
  position: absolute;
  right: 0;
  top: 48px;
  background: var(--surface-strong);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 8px;
  display: grid;
  gap: 6px;
  box-shadow: var(--shadow);
  min-width: 128px;
  z-index: 200;
}
.theme-menu[aria-hidden="true"]{ display: none; }
.theme-option{
  background: transparent;
  border: 0;
  padding: 8px 12px;
  text-align: left;
  cursor: pointer;
  border-radius: 8px;
  color: var(--text);
}
.theme-option:hover{ background: rgba(37,99,235,.06); }
html[data-theme="dark"] .theme-menu{ background: rgba(11,16,32,.9); }

.product-body{
  padding: 12px 12px 14px;
}
.product-title{
  font-weight: 800;
  letter-spacing: -0.02em;
  margin: 0 0 6px;
  display:-webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
.product-meta{
  display:flex; align-items:center; justify-content:space-between; gap: 10px;
  color: var(--muted-2);
  font-size: var(--small);
  margin-bottom: 8px;
}
.price{
  font-weight: 900;
  letter-spacing: -0.02em;
  font-size: 1.1rem;
  color: var(--text);
}
.rating{
  display:inline-flex; align-items:center; gap: 8px;
}
.stars{ display:inline-flex; gap: 3px; }
.stars svg{ width: 16px; height: 16px; }
.stars .on{ color: var(--accent); }
.stars .off{ color: rgba(148,163,184,.45); }
.product-footer{
  display:flex; gap: 10px; align-items:center; justify-content:space-between;
  margin-top: 10px;
}

/* Forms */
.form{
  display:grid;
  gap: 14px;
}
.field{
  display:grid;
  gap: 8px;
}
.label-row{
  display:flex; align-items:baseline; justify-content:space-between; gap: 10px;
}
label{ font-weight: 700; color: var(--text); }
.help{ color: var(--muted-2); font-size: var(--small); }
.input, .select, .textarea{
  width: 100%;
  padding: 12px 12px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: var(--surface-strong);
  outline: none;
  color: var(--text);
  transition: box-shadow .2s var(--ease), border-color .2s var(--ease), transform .15s var(--ease);
}
.textarea{ min-height: 120px; resize: vertical; }
.input:focus, .select:focus, .textarea:focus{ box-shadow: var(--ring); border-color: rgba(37,99,235,.35); }
.error-text{ color: var(--danger); font-size: var(--small); display:none; }
.field.invalid .input,
.field.invalid .select,
.field.invalid .textarea{ border-color: rgba(239,68,68,.55); box-shadow: 0 0 0 4px rgba(239,68,68,.12); }
.field.invalid .error-text{ display:block; }
.counter{ font-size: var(--small); color: var(--muted-2); }

.toggle{
  display:flex; align-items:center; justify-content:space-between; gap: 10px;
  padding: 10px 12px;
  border-radius: 16px;
  border: 1px solid var(--border);
  background: var(--surface);
}
.switch{
  width: 46px; height: 28px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: rgba(148,163,184,.18);
  position: relative;
  cursor: pointer;
  transition: background .2s var(--ease), border-color .2s var(--ease);
}
.switch::after{
  content:"";
  position:absolute;
  width: 22px; height: 22px;
  border-radius: 999px;
  left: 3px; top: 50%;
  transform: translateY(-50%);
  background: rgba(255,255,255,.9);
  border: 1px solid var(--border);
  transition: left .2s var(--ease);
}
.switch[aria-checked="true"]{
  background: rgba(16,185,129,.25);
  border-color: rgba(16,185,129,.35);
}
.switch[aria-checked="true"]::after{ left: 21px; }

/* Layout: browse / dashboard */
.layout-2{
  display:grid;
  grid-template-columns: 320px 1fr;
  gap: 16px;
  align-items: start;
}
.sidebar{
  position: sticky;
  top: 90px;
}
.toolbar{
  display:flex; gap: 10px; align-items:center; justify-content:space-between;
  flex-wrap: wrap;
}
.segmented{
  display:inline-flex;
  border: 1px solid var(--border);
  background: var(--surface);
  border-radius: 999px;
  overflow: hidden;
}
.segmented button{
  border: 0;
  background: transparent;
  padding: 10px 12px;
  cursor:pointer;
  color: var(--muted);
}
.segmented button[aria-pressed="true"]{ background: rgba(37,99,235,.12); color: var(--text); }

.products-grid{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 14px;
}
.products-list{
  display:grid;
  gap: 12px;
}
.list-row{
  display:grid;
  grid-template-columns: 170px 1fr 220px;
  gap: 12px;
  padding: 12px;
  border-radius: 22px;
  border: 1px solid var(--border);
  background: var(--surface);
  box-shadow: var(--shadow-soft);
  align-items:center;
}
.list-row .thumb{ width: 100%; aspect-ratio: 4/3; border-radius: 16px; overflow:hidden; }
.list-row .thumb img{ width:100%; height:100%; object-fit:cover; }

/* Pagination */
.pagination{
  display:flex; gap: 8px; align-items:center; justify-content:center;
  flex-wrap: wrap;
  margin-top: 16px;
}
.page-btn{
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: var(--surface);
  cursor:pointer;
}
.page-btn[aria-current="page"]{ background: rgba(37,99,235,.14); border-color: rgba(37,99,235,.30); }

/* Breadcrumbs */
.breadcrumbs{
  display:flex; gap: 10px; align-items:center;
  flex-wrap: wrap;
  font-size: var(--small);
  color: var(--muted-2);
}
.breadcrumbs a{ color: var(--muted); }
.breadcrumbs a:hover{ color: var(--text); }
.breadcrumbs .sep{ opacity: .7; }

/* Tabs */
.tabs{
  display:flex; gap: 8px; flex-wrap: wrap;
  border-bottom: 1px solid var(--border);
  padding-bottom: 10px;
}
.tab{
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: var(--surface);
  cursor: pointer;
  color: var(--muted);
}
.tab[aria-selected="true"]{ background: rgba(37,99,235,.12); border-color: rgba(37,99,235,.28); color: var(--text); }
.tab-panel{ padding-top: 12px; }

/* Accordion */
.accordion{
  display:grid; gap: 10px;
}
.acc-item{
  border: 1px solid var(--border);
  border-radius: 18px;
  background: var(--surface);
  overflow: hidden;
}
.acc-btn{
  width: 100%;
  text-align:left;
  display:flex; align-items:center; justify-content:space-between; gap: 12px;
  padding: 14px 14px;
  border: 0;
  background: transparent;
  cursor:pointer;
}
.acc-btn strong{ letter-spacing: -0.02em; }
.acc-panel{
  padding: 0 14px 14px;
  color: var(--muted);
  display:none;
}
.acc-item[aria-expanded="true"] .acc-panel{ display:block; }

/* Checkout steps */
.steps{
  display:flex; gap: 10px; align-items:center;
  flex-wrap: wrap;
}
.step{
  display:flex; gap: 10px; align-items:center;
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: var(--surface);
  color: var(--muted);
}
.step .num{
  width: 26px; height: 26px;
  border-radius: 999px;
  display:grid; place-items:center;
  border: 1px solid var(--border);
  background: rgba(37,99,235,.10);
  color: var(--text);
  font-weight: 800;
}
.step.done{ border-color: rgba(16,185,129,.30); color: var(--text); }
.step.done .num{ background: rgba(16,185,129,.18); }
.step.active{ border-color: rgba(37,99,235,.30); color: var(--text); }
.step.active .num{ background: rgba(37,99,235,.18); }

/* Sell: uploader */
.dropzone{
  border: 1.5px dashed rgba(37,99,235,.35);
  background: rgba(37,99,235,.05);
  border-radius: 18px;
  padding: 14px;
  min-height: 120px;
  display:grid;
  gap: 10px;
  align-content: center;
  text-align: center;
  transition: background .2s var(--ease), border-color .2s var(--ease), transform .15s var(--ease);
}
.dropzone.dragover{
  background: rgba(16,185,129,.08);
  border-color: rgba(16,185,129,.45);
  transform: translateY(-1px);
}
.thumb-grid{
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
}
.thumb-tile{
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid var(--border);
  background: var(--surface-strong);
  position: relative;
}
.thumb-tile img{ width: 100%; height: 120px; object-fit: cover; display:block; }
.thumb-tile .overlay{
  position:absolute;
  inset: 0;
  background: linear-gradient(180deg, rgba(2,6,23,.0), rgba(2,6,23,.55));
  opacity: 0;
  transition: opacity .2s var(--ease);
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  padding: 8px;
  gap: 8px;
}
.thumb-tile:hover .overlay{ opacity: 1; }
.thumb-tile .overlay button{
  width: 34px; height: 34px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.35);
  background: rgba(255,255,255,.20);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  color: #fff;
  cursor:pointer;
}
.thumb-tile[draggable="true"]{ cursor: grab; }
.thumb-tile.dragging{ opacity: .55; }

/* Seller card */
.seller{
  display:flex; gap: 12px; align-items:flex-start;
}
.avatar{
  width: 46px; height: 46px;
  border-radius: 18px;
  background: linear-gradient(135deg, rgba(37,99,235,.18), rgba(16,185,129,.15));
  border: 1px solid var(--border);
  display:grid; place-items:center;
  font-weight: 900;
  letter-spacing: -0.03em;
}
.seller .name{ font-weight: 900; letter-spacing: -0.02em; }
.seller .meta{ color: var(--muted-2); font-size: var(--small); }

/* Messages */
.messages{
  display:grid;
  grid-template-columns: 340px 1fr;
  gap: 14px;
}
.conv-list{
  display:grid; gap: 10px;
}
.conv{
  padding: 12px;
  border-radius: 18px;
  border: 1px solid var(--border);
  background: var(--surface);
  cursor:pointer;
}
.conv:hover{ border-color: rgba(37,99,235,.25); }
.chat{
  display:grid;
  grid-template-rows: auto 1fr auto;
  gap: 10px;
  min-height: 520px;
}
.chat-log{
  border-radius: 18px;
  border: 1px solid var(--border);
  background: var(--surface);
  padding: 12px;
  overflow: auto;
  display:grid;
  gap: 10px;
}
.bubble{
  width: fit-content;
  max-width: min(520px, 92%);
  padding: 10px 12px;
  border-radius: 16px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,.62);
}
html[data-theme="dark"] .bubble{ background: rgba(11,16,32,.62); }
.bubble.me{
  margin-left: auto;
  border-color: rgba(37,99,235,.24);
  background: rgba(37,99,235,.08);
}
.chat-compose{
  display:flex; gap: 10px;
}

/* Comparison drawer */
.compare-bar{
  position: fixed;
  left: 14px;
  bottom: 14px;
  z-index: 108;
  width: min(720px, calc(100vw - 28px));
  display:none;
}
.compare-bar.show{ display:block; }
.compare-inner{
  padding: 12px;
  border-radius: 22px;
  border: 1px solid var(--border);
  background: var(--surface-strong);
  box-shadow: var(--shadow);
  display:flex;
  gap: 10px;
  align-items:center;
  justify-content:space-between;
}
.compare-items{
  display:flex; gap: 8px; flex-wrap: wrap; align-items:center;
}
.compare-pill{
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: var(--surface);
  display:inline-flex; gap: 8px; align-items:center;
}
.compare-pill button{
  border: 0; background: transparent; cursor:pointer; color: var(--muted);
}
.compare-pill button:hover{ color: var(--danger); }

